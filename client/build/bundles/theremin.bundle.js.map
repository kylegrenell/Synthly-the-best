{"version":3,"sources":["webpack:///webpack/bootstrap f9c254c347e5b42cc4aa?9af3","webpack:///./src/theremin.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,M;;AAEA;;AAEA;AACA,EAAC;;AAED;AACA;AACA;AACA,E","file":"theremin.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f9c254c347e5b42cc4aa","const Theremin = (function(){\n  \n  let thereminCanvas;\n  let frequencyLabel;\n  let volumeLabel;\n  let context;\n  let oscillator;\n  let gainNode;\n  let lowNote = 50; \n  let highNote = 3000;\n \n  // Constructor\n  const Theremin = function() {\n    thereminCanvas = document.getElementById('theremin');\n    frequencyLabel = document.getElementById('frequency');\n    volumeLabel = document.getElementById('volume');\n    // highNoteControl = document.getElementById('high-note-control');\n\n    context = new AudioContext();\n    Theremin.setupEventListeners();\n  };\n  \n  // Event Listeners\n  Theremin.setupEventListeners = function() {\n    document.body.addEventListener('touchmove', function(event) {\n      event.preventDefault();\n    }, false);\n  \n    thereminCanvas.addEventListener('mousedown', Theremin.playSound);\n    thereminCanvas.addEventListener('mouseup', Theremin.stopSound);\n    document.addEventListener('mouseleave', Theremin.stopSound);\n  };\n  \n  Theremin.playSound = function(event) {\n    oscillator = context.createOscillator();\n    gainNode = context.createGain();\n    // oscillator.type = 'sine'; // sine is the most thermin like spooky one yo\n    // oscillator.type = 'triangle';\n    oscillator.type = 'square';\n    // oscillator.type = 'sawtooth';\n    gainNode.connect(context.destination);\n    oscillator.connect(gainNode);\n  \n    Theremin.updateFrequency(event);\n    oscillator.start(0);\n  \n    thereminCanvas.addEventListener('mousemove', Theremin.updateFrequency);\n    thereminCanvas.addEventListener('mouseout', Theremin.stopSound);\n  };\n   \n  Theremin.stopSound = function(event) {\n    oscillator.stop(0);\n    thereminCanvas.removeEventListener('mousemove', Theremin.updateFrequency);\n    thereminCanvas.removeEventListener('mouseout', Theremin.stopSound);\n  };\n   \n  Theremin.calculateNote = function(posX) {\n    let noteDifference = highNote - lowNote;\n    let noteOffset = (noteDifference / thereminCanvas.offsetWidth) * (posX - thereminCanvas.offsetLeft);\n    return lowNote + noteOffset;\n  };\n  \n  Theremin.calculateVolume = function(posY) {\n    let volumeLevel = 1 - (((100 / thereminCanvas.offsetHeight) * (posY - thereminCanvas.offsetTop)) / 100);\n    return volumeLevel;\n  };\n  \n  Theremin.calculateFrequency = function(x, y) {\n    let noteValue = Theremin.calculateNote(x);\n    let volumeValue = Theremin.calculateVolume(y);\n  \n    oscillator.frequency.value = noteValue;\n    gainNode.gain.value = volumeValue;\n  \n    frequencyLabel.innerHTML = Math.floor(noteValue) + ' Hz';\n    volumeLabel.innerHTML = Math.floor(volumeValue * 100) + '%';\n  };\n  \n  Theremin.updateFrequency = function(event) {\n    if (event.type == 'mousedown' || event.type == 'mousemove') {\n      Theremin.calculateFrequency(event.x, event.y);\n    } \n    \n  };\n  \n  return Theremin;\n})();\n\n// Initialize the page.\nwindow.onload = function() {\n  const theremin = new Theremin();\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/theremin.js\n// module id = 0\n// module chunks = 1"],"sourceRoot":""}