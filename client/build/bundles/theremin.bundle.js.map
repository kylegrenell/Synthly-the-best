{"version":3,"sources":["webpack:///webpack/bootstrap be80f3a1a90a698e2794","webpack:///./src/theremin.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,Q;AACA,O;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA","file":"theremin.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap be80f3a1a90a698e2794","\n// defining a new module called Theremin. Contains all variables + functions for the theremin\nvar Theremin = (function(){\n  var thereminCanvas;\n  var frequencyLabel;\n  var volumeLabel;\n  var context;\n  var oscillator;\n  var gainNode;\n  var lowNote = 50; \n  var highNote = 3000;\n \n  // Constructor\n  var Theremin = function() {\n    thereminCanvas = document.getElementById('theremin');\n    frequencyLabel = document.getElementById('frequency');\n    volumeLabel = document.getElementById('volume');\n    context = new AudioContext();\n    Theremin.allEventListeners();\n  };\n  \n  // Event Listeners\n  Theremin.allEventListeners = function() {\n    thereminCanvas.addEventListener('mousedown', Theremin.playSound);\n    thereminCanvas.addEventListener('mouseup', Theremin.stopSound);\n  };\n  \n\n  Theremin.playSound = function(event) {\n    oscillator = context.createOscillator();\n    gainNode = context.createGain();\n    oscillator.type = 'sine'; // sine is the most thermin like spooky one yo\n    // oscillator.type = 'triangle';\n    // oscillator.type = 'square';\n    // oscillator.type = 'sawtooth';\n    gainNode.connect(context.destination);\n    oscillator.connect(gainNode);\n  \n    Theremin.updateFrequency(event);\n    oscillator.start(0);\n  \n    thereminCanvas.addEventListener('mouseup', Theremin.updateFrequency);\n    thereminCanvas.addEventListener('mousedown', Theremin.stopSound);\n  };\n   \n\n  Theremin.stopSound = function(event) {\n    oscillator.stop(0);\n    thereminCanvas.removeEventListener('mouseup', Theremin.updateFrequency);\n    thereminCanvas.removeEventListener('mousedown', Theremin.stopSound);\n  };\n   \n  // position of the cursor on the pad determines note frequency\n  Theremin.calculateNote = function(posX) {\n    var noteDifference = highNote - lowNote; // set to canvas size\n    // calculates what frequency value is represented by 1 pixel. multiplied by the position of the cursor on the pad to give the value that should be added to lowNote to produce the final frequency.\n    var noteOffset = (noteDifference / thereminCanvas.offsetWidth) * (posX - thereminCanvas.offsetLeft);\n    return lowNote + noteOffset;\n  };\n  \n\n  Theremin.calculateVolume = function(posY) {\n    var volumeLevel = 1 - (((100 / thereminCanvas.offsetHeight) * (posY - thereminCanvas.offsetTop)) / 100);\n    return volumeLevel;\n  };\n  \n\n  Theremin.calculateFrequency = function(x, y) {\n    var noteValue = Theremin.calculateNote(x);\n    var volumeValue = Theremin.calculateVolume(y);\n  \n    oscillator.frequency.value = noteValue;\n    gainNode.gain.value = volumeValue;\n  \n    frequencyLabel.innerHTML = Math.floor(noteValue) + ' Hz';\n    volumeLabel.innerHTML = Math.floor(volumeValue * 100) + '%';\n  };\n  \n  // check if a mouse used and extract the position of the cursor from the event data and pass this to the calculateFrequency() function.\n    Theremin.updateFrequency = function(event) {\n      if (event.type == 'mousedown'){\n        Theremin.calculateFrequency(event.x, event.y);\n      } \n    };    \n    // Export Theremin.\n    return Theremin;\n  });\n\n// Initialize the page.\nwindow.onload = function() {\n  var theremin = new Theremin();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/theremin.js\n// module id = 0\n// module chunks = 2"],"sourceRoot":""}